<% columns = [:common_name, :scientific_name, :hardiness_zone, :listings ] if local_assigns[:columns].nil? %>

<div class="result-count">
  <p><%= "#{pluralize(seeds.count, "seed")} found." %></p>
</div>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <% columns.each do |column| %>
        <th><%= column.to_s.titleize %></th>
      <% end %>
    </tr>
  </thead>
  <tbody>
    <% seeds.each do |seed| %>
    <tr>
      <% columns.each do |column| %>
        <% if column == :listings %>
          <td><%= link_to "#{seed.listings.count} listing".pluralize(seed.listings.count), seed %></td>
        <% else %>
          <td><%= seed.send(column.to_sym) %></td>
        <% end %>
      <% end %>
    </tr>
    <% end %>
  </tbody>
</table>
